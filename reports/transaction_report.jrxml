<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.2.final using JasperReports Library version 6.21.2-8434a0bd7c3bbc37cbf916f2968d35e4b165821a  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="transaction_reports" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isFloatColumnFooter="true" uuid="e141e7ca-3b0d-4c40-b420-637e6ba78d87">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="borrows"/>
	<parameter name="status" class="java.lang.Integer"/>
	<parameter name="fromdate" class="java.sql.Date"/>
	<parameter name="todate" class="java.sql.Date"/>
	<queryString language="SQL">
		<![CDATA[SELECT 
    CONCAT(b.first_name, ', ', b.last_name, ' ') AS borrower_name,
    a.transaction_no,
    a.start_date,
    a.expected_return_date,
    a.return_date,
	CASE a.status
        WHEN 0 THEN 'RETURN'
        WHEN 1 THEN 'PARTIALLY RETURNED'
        WHEN 2 THEN 'WAITING TO RETURN'
        WHEN 3 THEN 'WAITING TO CLAIM'
        WHEN 4 THEN 'REJECTED'
        WHEN 5 THEN 'CANCELLED'
        WHEN 6 THEN 'FOR APPROVAL'
        ELSE 'UNKNOWN STATUS'
    END AS status_text
FROM 
    borrows.tbl_transaction_header a
    INNER JOIN tbl_borrower b ON a.borrower_id = b.borrower_id 
WHERE 
    DATE(a.date_created) BETWEEN DATE('$P{fromdate}') AND DATE('$P{todate}') 
    AND a.status = $P{status} 
ORDER BY 
    a.date_created DESC]]>
	</queryString>
	<field name="borrower_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="borrower_name"/>
		<property name="com.jaspersoft.studio.field.label" value="borrower_name"/>
	</field>
	<field name="transaction_no" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="transaction_no"/>
		<property name="com.jaspersoft.studio.field.label" value="transaction_no"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tbl_transaction_header"/>
	</field>
	<field name="start_date" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="start_date"/>
		<property name="com.jaspersoft.studio.field.label" value="start_date"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tbl_transaction_header"/>
	</field>
	<field name="expected_return_date" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="expected_return_date"/>
		<property name="com.jaspersoft.studio.field.label" value="expected_return_date"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tbl_transaction_header"/>
	</field>
	<field name="return_date" class="java.sql.Date">
		<property name="com.jaspersoft.studio.field.name" value="return_date"/>
		<property name="com.jaspersoft.studio.field.label" value="return_date"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tbl_transaction_header"/>
	</field>
	<!-- <field name="status_text" class="java.lang.String"/> -->
	
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="75" splitType="Stretch">
			<staticText>
				<reportElement x="-1" y="30" width="671" height="21" uuid="e96fd36f-d75d-4b7b-a982-02b1c56598a3"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Transaction Report: ]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="10" width="800" height="21" uuid="a924b5e1-d60c-46ef-9f92-7eccc486d933"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<text><![CDATA[SEAIT SCIENCE LAB BORROWING SYSTEM]]></text>
			</staticText>
			<staticText>
				<reportElement x="400" y="30" width="258" height="21" uuid="95662373-8002-42a9-8af8-77163e66714c"/>
				<textElement>
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Transaction Report: ]]></text>
			</staticText>
			<staticText>
				<reportElement x="207" y="48" width="230" height="21" uuid="8c93d287-7eca-4ec3-884a-f5ffdb7a0bc7"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<text><![CDATA[FROM:]]></text>
			</staticText>
			<staticText>
				<reportElement x="439" y="48" width="130" height="21" uuid="59c0d798-8277-4910-b59d-cb5ab21c07b6"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<text><![CDATA[TO:]]></text>
			</staticText>
			<line>
				<reportElement mode="Transparent" x="0" y="73" width="800" height="1" uuid="1eebfdef-b6b9-4b79-8103-d970d45770e3"/>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement x="340" y="48" width="133" height="20" uuid="822748bb-1dd3-4d58-82b5-ddf01968f4c1"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("MMM-dd-yyyy").format($P{fromdate})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="458" y="53" width="100" height="16" uuid="99ba1b03-6a6a-494d-ab0a-f60a8664d619"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[new SimpleDateFormat("MMM-dd-yyyy").format($P{todate})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="613" y="48" width="100" height="23" uuid="43814f1c-21b4-4d2c-b971-9be448697afb"/>
				<textElement textAlignment="Right" verticalAlignment="Bottom">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="713" y="48" width="100" height="23" uuid="3aaa3904-826f-4292-8e3a-fc693b46e576"/>
				<textElement textAlignment="Left" verticalAlignment="Bottom">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[" of " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="112" y="42" width="100" height="30" uuid="376fd32e-9993-4f41-aee5-015eaffaa01c"/>
				<textFieldExpression><![CDATA[$V{mystatus}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="24" splitType="Stretch">
			<staticText>
				<reportElement x="21" y="0" width="100" height="19" uuid="62be1e98-54d7-49a0-811f-f994d7f227b6">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="ba438612-0634-433c-8319-e57f8709e068"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Borrower Name]]></text>
			</staticText>
			<staticText>
				<reportElement x="130" y="0" width="100" height="19" uuid="0c51db0c-25bb-4a1e-9255-ce0654eb386b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7c4f9236-d9dc-4805-91d6-08ea8c24ec3a"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Transaction #]]></text>
			</staticText>
			<staticText>
				<reportElement x="260" y="0" width="100" height="19" uuid="30236041-040b-4073-a638-c39594374fa4">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="259e8c8d-72bc-4bf8-912d-ad11246de376"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Start Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="400" y="0" width="100" height="19" uuid="fa8c48e0-ebe4-44b1-abfb-b78d2d9174f9">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f19724ba-318d-4bbd-b190-355a3ddcdc60"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Expected Return Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="540" y="1" width="100" height="19" uuid="72408f1f-73cf-4e03-81f5-68b0d51560b0">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="44017df9-0b22-4493-87a2-8c5fb719bb38"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Return Date]]></text>
			</staticText>
			<staticText>
				<reportElement x="660" y="1" width="100" height="19" uuid="621976c3-638c-43c3-8cb7-4bd908c895c2">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="830be88d-ed92-4bfb-80ec-8b3e6a82470d"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Status]]></text>
			</staticText>
			<line>
				<reportElement mode="Transparent" x="0" y="20" width="800" height="2" uuid="2fe1ede9-9efd-4805-b02a-4fe8dbc7ad14"/>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Dashed"/>
				</graphicElement>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="25" splitType="Stretch">
			<textField>
				<reportElement x="20" y="0" width="100" height="20" uuid="816c7a26-7984-4be2-9e61-28922422914b">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="ba438612-0634-433c-8319-e57f8709e068"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{borrower_name}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="130" y="0" width="100" height="20" uuid="087c3909-c4e7-4f5b-973d-3aab99fced99">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="7c4f9236-d9dc-4805-91d6-08ea8c24ec3a"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{transaction_no}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="258" y="1" width="100" height="19" uuid="540a7aaa-251e-4b76-ac3e-53814c2850b7">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="259e8c8d-72bc-4bf8-912d-ad11246de376"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{start_date}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="401" y="0" width="100" height="20" uuid="f63f97f5-c79e-4644-bfb0-48cdfc3e579e">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f19724ba-318d-4bbd-b190-355a3ddcdc60"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{expected_return_date}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="540" y="1" width="100" height="19" uuid="82ce1e11-cc08-49cf-9c1e-60967f6bfd43">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="44017df9-0b22-4493-87a2-8c5fb719bb38"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{return_date}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement mode="Transparent" x="0" y="20" width="800" height="2" uuid="b6b3ee7c-db8e-4386-a4f8-882f69136cd7"/>
				<graphicElement>
					<pen lineWidth="0.5" lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<textField>
				<reportElement x="660" y="0" width="100" height="20" uuid="e51dd3ea-e9c2-405f-95a4-84d2c3d6397a"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{status_text}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="23" splitType="Stretch">
			<staticText>
				<reportElement x="587" y="-1" width="204" height="23" uuid="9c7cb3e5-a77f-4d0f-8a33-4b997c6d9f6f"/>
				<textElement verticalAlignment="Bottom"/>
				<text><![CDATA[Prepared by: _________________]]></text>
			</staticText>
		</band>
	</summary>
</jasperReport>
